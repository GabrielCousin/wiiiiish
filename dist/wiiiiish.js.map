{"mappings":"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","sources":["src/wiiiiish.js"],"sourcesContent":["export default class Wiiiiish {\n  timeouts = []\n  wishes = []\n\n  constructor(options) {\n    this.options = Object.assign({\n      itemsSelector: '#w-list',\n      targetSelector: '#w-container',\n      triggerSelector: '#w-trigger',\n      removalDelay: 300,\n      addDuration: 700,\n      pause: 100\n    }, options)\n\n    this.$trigger = document.querySelector(this.options.triggerSelector)\n    this.$wishText = document.querySelector(this.options.targetSelector)\n\n    document.querySelectorAll(`${this.options.itemsSelector} li`).forEach((wish) => {\n      this.wishes.push(wish.innerHTML)\n    })\n\n    this.$trigger.addEventListener('click', this.updateText, false)\n  }\n\n  addText = () => {\n    this.$wishText.classList.add('is-typing')\n\n    let newIndex = Math.floor(Math.random() * this.wishes.length)\n\n    while (this.currentIndex === newIndex) {\n      newIndex = Math.floor(Math.random() * this.wishes.length)\n    }\n\n    this.currentIndex = newIndex\n\n    let letters = this.wishes[newIndex].split('')\n    let chunks = []\n\n    letters[0] = `<span>${letters[0]}</span>`\n\n    letters.reduce(function (accumulator, currentValue) {\n      const chunk = `${accumulator}<span>${currentValue}</span>`\n      chunks.push(chunk)\n      return chunk\n    })\n\n    chunks.forEach((chunk, i) => {\n      this.timeouts.push(setTimeout(() => {\n        this.$wishText.innerHTML = chunk\n      }, i * this.options.pause))\n    })\n  }\n\n  clear = () => {\n    for (let i = 0; i < this.timeouts.length; i++) {\n      clearTimeout(this.timeouts[i])\n    }\n  }\n\n  removeText = () => {\n    this.$wishText.innerHTML = ''\n  }\n\n  selectText = () => {\n    document.querySelectorAll(`${this.options.targetSelector} span`).forEach((span) => {\n      span.classList.add('is-selected')\n    })\n  }\n\n  updateText = () => {\n    this.$wishText.classList.remove('is-typing')\n\n    this.selectText()\n    this.clear()\n\n    this.timeouts = [\n      setTimeout(this.removeText, this.options.removalDelay),\n      setTimeout(this.addText, this.options.removalDelay + this.options.addDuration)\n    ]\n  }\n}\n"],"names":[],"version":3,"file":"wiiiiish.js.map"}